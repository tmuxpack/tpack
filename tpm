#!/usr/bin/env bash

# TPM - Tmux Plugin Manager
#
# This shell shim detects the Go binary (tpm-go) and delegates to it.

CURRENT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

source "$CURRENT_DIR/lib/find_binary.sh"

TPM_GO="$(_find_tpm_go "$CURRENT_DIR")"

if [ -n "$TPM_GO" ]; then
	exec "$TPM_GO" init "$@"
fi

echo "Error: tpm-go binary not found. Please build it or ensure it's in your PATH." >&2
exit 1
