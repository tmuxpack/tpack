#!/usr/bin/env bash

# tpack - Tmux Plugin Manager
#
# This shell shim detects the Go binary (tpack) and delegates to it.

CURRENT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

source "$CURRENT_DIR/lib/find_binary.sh"

TPACK_BIN="$(_find_tpack "$CURRENT_DIR")"

if [ -n "$TPACK_BIN" ]; then
	exec "$TPACK_BIN" init "$@"
fi

echo "Error: tpack binary not found. Please build it or ensure it's in your PATH." >&2
exit 1
